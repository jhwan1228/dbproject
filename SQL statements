CREATE TABLE ADMIN (
id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
username VARCHAR(150) NOT NULL UNIQUE,
password VARCHAR(180) NOT NULL,
fname VARCHAR(50) NOT NULL,
lname VARCHAR(50) NOT NULL,
phone_number VARCHAR(50) DEFAULT NULL,
is_sadmin INT(1) NOT NULL
);


CREATE TABLE CCTV (
cctv_id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
model_name VARCHAR(100) NOT NULL,
installation_date TIMESTAMP NOT NULL,
admin_id INT
);


CREATE TABLE LOCATION (
location_id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,	
city VARCHAR(100),
bld_name VARCHAR(100),
floor_number VARCHAR(100),
details VARCHAR(100)
);


CREATE TABLE NEIGHBORS (
neighbors_id INT(6) NOT NULL AUTO_INCREMENT PRIMARY KEY,
neighbors_name VARCHAR(100)
);


CREATE TABLE if NOT EXISTS NEIGHBORS_OF (
location_id INT NOT NULL,
neighbors_id INT NOT NULL
);


CREATE TABLE SEQUENCE (
sequence_id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
sequence_name VARCHAR(100),
neighbors_list VARCHAR(100)
);


CREATE TABLE CAPTURES (
cctv_id INT,
location_id INT
);



CREATE TABLE VIDEO (
video_id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
cctv_id INT NOT NULL
);


CREATE TABLE METALOG(
video_id INT NOT NULL,
time_start TIMESTAMP,
time_end TIMESTAMP
);


ALTER TABLE CCTV ADD FOREIGN KEY(admin_id) REFERENCES ADMIN(id);
ALTER TABLE NEIGHBORS_OF ADD FOREIGN KEY(location_id) REFERENCES LOCATION(location_id);
ALTER TABLE NEIGHBORS_OF ADD FOREIGN KEY(neighbors_id) REFERENCES NEIGHBORS(neighbors_id);
ALTER TABLE CAPTURES ADD FOREIGN KEY(cctv_id) REFERENCES cctv(cctv_id);
ALTER TABLE CAPTURES ADDFOREIGN KEY(location_id) REFERENCES LOCATION(location_id);
ALTER TABLE METALOG ADD FOREIGN KEY(video_id) REFERENCES VIDEO(video_id);
ALTER TABLE VIDEO ADD FOREIGN KEY(cctv_id) REFERENCES CCTV(cctv_id);
